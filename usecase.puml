@startuml
!theme plain
skinparam packageStyle rectangle
skinparam actorStyle awesome
skinparam usecaseStyle roundbox

skinparam actor {
    BackgroundColor #28a745
    BorderColor #218838
}

skinparam usecase {
    BackgroundColor #e6f4ea
    BorderColor #28a745
    ArrowColor #28a745
}

skinparam package {
    BackgroundColor #f8f9fa
    BorderColor #28a745
}

title Hệ thống Quản lý Phòng khám

' Actors
actor "Bệnh nhân" as Patient
actor "Nhân viên" as Staff
actor "Bác sĩ" as Doctor

' Packages
package "Quản lý tài khoản" {
    usecase "Đăng ký tài khoản" as UC1
    usecase "Đăng nhập" as UC2
    usecase "Đăng xuất" as UC3
    usecase "Quên mật khẩu" as UC4
    usecase "Đổi mật khẩu" as UC5
}

package "Quản lý thông tin cá nhân" {
    usecase "Xem thông tin cá nhân" as UC6
    usecase "Cập nhật thông tin cá nhân" as UC7
    usecase "Thay đổi ảnh đại diện" as UC8
}

package "Quản lý bảo hiểm y tế" {
    usecase "Xem danh sách bảo hiểm" as UC9
    usecase "Thêm bảo hiểm mới" as UC10
    usecase "Cập nhật thông tin bảo hiểm" as UC11
    usecase "Xóa bảo hiểm" as UC12
}

package "Quản lý lịch khám" {
    usecase "Xem danh sách bác sĩ" as UC13
    usecase "Xem chi tiết bác sĩ" as UC14
    usecase "Đặt lịch khám" as UC15
    usecase "Xem lịch khám" as UC16
    usecase "Hủy lịch khám" as UC17
    usecase "Xác nhận lịch khám" as UC18
}

package "Quản lý hóa đơn" {
    usecase "Xem danh sách hóa đơn" as UC19
    usecase "Tạo hóa đơn mới" as UC20
    usecase "Cập nhật trạng thái hóa đơn" as UC21
    usecase "Thanh toán hóa đơn" as UC22
    usecase "Xem chi tiết hóa đơn" as UC23
}

package "Quản lý phiếu kết luận" {
    usecase "Tạo phiếu kết luận" as UC24
    usecase "Xem phiếu kết luận" as UC25
    usecase "Cập nhật phiếu kết luận" as UC26
}

' Relationships for Patient
Patient --> UC1
Patient --> UC2
Patient --> UC3
Patient --> UC4
Patient --> UC5
Patient --> UC6
Patient --> UC7
Patient --> UC8
Patient --> UC9
Patient --> UC13
Patient --> UC14
Patient --> UC15
Patient --> UC16
Patient --> UC17
Patient --> UC19
Patient --> UC22
Patient --> UC23
Patient --> UC25

' Relationships for Staff
Staff --> UC1
Staff --> UC2
Staff --> UC3
Staff --> UC4
Staff --> UC5
Staff --> UC6
Staff --> UC7
Staff --> UC8
Staff --> UC9
Staff --> UC10
Staff --> UC11
Staff --> UC12
Staff --> UC16
Staff --> UC18
Staff --> UC19
Staff --> UC20
Staff --> UC21
Staff --> UC23

' Relationships for Doctor
Doctor --> UC1
Doctor --> UC2
Doctor --> UC3
Doctor --> UC4
Doctor --> UC5
Doctor --> UC6
Doctor --> UC7
Doctor --> UC8
Doctor --> UC16
Doctor --> UC24
Doctor --> UC25
Doctor --> UC26

' Include relationships
UC15 ..> UC13 : <<include>>
UC15 ..> UC14 : <<include>>
UC20 ..> UC16 : <<include>>
UC21 ..> UC19 : <<include>>
UC22 ..> UC19 : <<include>>
UC24 ..> UC16 : <<include>>
UC26 ..> UC24 : <<include>>

' Extend relationships
UC17 ..> UC16 : <<extend>>
UC18 ..> UC16 : <<extend>>
UC23 ..> UC19 : <<extend>>
UC25 ..> UC16 : <<extend>>

@enduml 